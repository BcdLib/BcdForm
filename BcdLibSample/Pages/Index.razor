@page "/"

<h1>Hello, world!</h1>

Welcome to your new app.

<button @onclick="OpenABcdForm">OpenABcdForm</button>

<button @onclick="OpenABcdForm2">OpenABcdForm2</button>
@code
{
    BcdForm bcdFormTest = null;

    int index = 0;

    async void OpenABcdForm()
    {
        if (index % 3  == 0)
        {

            if (index > 0)
            {
                // to test dispose method:
                // Can DOM be removed from document correctly
                bcdFormTest?.Dispose();
                await Task.Delay(2000);
            }

            bcdFormTest = new BcdForm1();
            await bcdFormTest.ShowAsync();
        }
        else
        {
            if (bcdFormTest.Visible)
            {
                await bcdFormTest.CloseAsync();
            }
            else
            {
                await bcdFormTest.ShowAsync();
            }
        }

        index++;
    }

    BcdForm bcdFormTest2 = null;

    async void OpenABcdForm2()
    {
        if (bcdFormTest2 == null)
        {
            bcdFormTest2 = new BcdForm1();
            await bcdFormTest2.ShowAsync();
        }
        else
        {
            if (bcdFormTest2.Visible)
            {
                await bcdFormTest2.CloseAsync();
            }
            else
            {
                await bcdFormTest2.ShowAsync();
            }
        }
    }
}
